# 0016 – Cash Market Page – Aliniere la design system

## Descriere

Pagina **Cash Market** (`/cash-market`) trebuie aliniată la standardul design system-ului platformei, tratându-se la fel ca Funding, Swap Market și alte pagini principale. Obiectivul: elimina stiluri hardcodate, folosi componente comune și tokeni design, păstrând consistența cu `DESIGN_SYSTEM.md` și `app_truth.md` §9.

## Context

- **Pagină analizată:** Cash Market (http://localhost:5173/cash-market)
- **Referință:** FundingPage, CeaSwapMarketPage – Subheader, Card, page-container, Button, tokeni
- **Standarde:** `frontend/docs/DESIGN_SYSTEM.md`, `frontend/src/styles/design-tokens.css`, `docs/commands/interface.md`

## Fișiere de modificat

### 1. `frontend/src/pages/CashMarketPage.tsx`

| Zonă | Stare actuală | Modificare |
|------|---------------|------------|
| Fundal pagină | `min-h-screen bg-navy-900` | Păstrăm (align cu FundingPage) sau folosim `bg-page` dacă există; verificare token |
| Tipografie | `text-[11px]`, `text-[10px]` | Înlocuire cu `text-xs` (--text-xs = 12px); evitare valori arbitrare |
| Buton Place Order | `<button className="...bg-amber-500...">` | Înlocuire cu componenta `<Button variant="primary">` (sau variant CEA/amber dacă există); DESIGN_SYSTEM folosește emerald pentru primary, amber pentru CEA – Place Order e acțiune principală CEA, deci Button cu styling CEA (icon bg-amber) sau primary emerald |
| Overlay Order Entry | `div.fixed` cu `bg-white dark:bg-navy-800` custom | Wrap conținut în `<Card>`; folosire tokeni; buton Close → `<Button variant="ghost" size="sm">` |
| Buton Refresh | `motion.button` cu stil custom | `<Button variant="ghost" size="sm">` cu icon RefreshCw |
| Container | `page-container py-4` | OK; păstrăm py-4 (diferit de Funding py-8 dacă layoutul cere mai puțin padding) |

### 2. `frontend/src/components/cash-market/ProfessionalOrderBook.tsx`

| Zonă | Stare actuală | Modificare |
|------|---------------|------------|
| Container | `content_wrapper_last p-0 text-[11px]` | Păstrăm `content_wrapper_last`; înlocuim `text-[11px]` cu `text-xs` |
| Header coloane | `text-[10px]` | Înlocuire cu `text-xs` |
| Footer | `text-[10px]` | Înlocuire cu `text-xs` |

### 3. `frontend/src/components/cash-market/MyOrders.tsx`

| Zonă | Stare actuală | Modificare |
|------|---------------|------------|
| Card wrapper | `<Card>` | OK |
| Tab-uri Open/History | `<button>` custom cu border-emerald | Aliniere la pattern `.subsubheader-nav-btn` / `.subsubheader-nav-btn-active` din `design-tokens.css` (sau păstrare pattern tab emerald dacă e intenționat – DESIGN_SYSTEM recomandă emerald focus) |
| Status badge | `getStatusBadge` inline classes | Folosire componentei `<Badge>` din common cu `variant` corespunzător (success, warning, danger, info) |
| Buton Cancel | `motion.button` custom roșu | `<Button variant="secondary" className="text-red-500 hover:bg-red-500/10...">` per DESIGN_SYSTEM § Destructive |

### 4. `frontend/src/components/cash-market/UserOrderEntryModal.tsx`

- Verificare: input-uri, butoane, label-uri – trebuie să folosească componente Input/Button/Label din common și tokeni; focus ring emerald.

### 5. Alte componente cash-market (OrderBookRow, etc.)

- Scan pentru `text-[10px]`, `text-[11px]`, culori hardcodate (hex, slate, gray); înlocuire cu tokeni.

## Algoritm / pași

1. **CashMarketPage.tsx**
   - Înlocuire `text-[11px]` / `text-[10px]` cu `text-xs`
   - Înlocuire buton Place Order cu `<Button variant="primary">` (sau variant CEA dacă există); icon ShoppingCart
   - Înlocuire overlay: wrapper `<Card>` pentru conținut; buton Close → `<Button variant="ghost">`
   - Înlocuire buton Refresh cu `<Button variant="ghost" size="sm">`

2. **ProfessionalOrderBook.tsx**
   - Înlocuire `text-[11px]` și `text-[10px]` cu `text-xs`

3. **MyOrders.tsx**
   - Înlocuire `getStatusBadge` cu `<Badge variant={...}>`
   - Înlocuire buton Cancel cu `<Button variant="secondary" className="...">` per design system destructive
   - Opțional: aliniere tab-uri la SubSubHeader nav pattern (dacă se dorește consistență cu backoffice)

4. **UserOrderEntryModal.tsx**
   - Verificare și înlocuire input-uri/label-uri cu componente din common; focus ring emerald

5. **Restul componentelor cash-market**
   - Grep pentru `text-[10px]`, `text-[11px]`, `slate-`, `gray-`, hex; corectare

## Reguli de design (app_truth §9, DESIGN_SYSTEM)

- **Culori:** navy-*, emerald-*, amber-*, blue-*, red-*; fără slate-*, gray-*, hex hardcodat
- **Inputs/forme:** focus ring emerald (`focus:ring-emerald-500`)
- **Section/card:** `.card_back` sau `<Card />`
- **Componente:** Button, Badge, Card, Input din `components/common/`
- **Tipografie:** scale din design-tokens (--text-xs, --text-sm etc.); fără valori arbitrare unde e posibil

## Note

- Pagina Cash Market are nevoie de densitate vizuală (order book). Dacă `text-xs` (12px) e prea mare față de 10–11px, se poate documenta nevoia unui token `--text-2xs` sau similar; până atunci, folosim `text-xs`.
- `IndividualOrdersTable.tsx` (backoffice) folosește și el `text-[11px]`; poate fi inclus într-o fază ulterioară pentru consistență.
- Place Order: CEA cash – branding amber. Dacă Button primary e emerald, se poate folosi `iconBg="bg-amber-500/20"` la Subheader (deja folosit) și Button primary emerald pentru acțiune; sau Button cu `className` override pentru amber dacă produsul cere CEA-specific pentru Place Order.
